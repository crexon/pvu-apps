"use strict";(self["webpackChunkmichi_apps"]=self["webpackChunkmichi_apps"]||[]).push([[134],{4134:(t,e,l)=>{l.r(e),l.d(e,{default:()=>v});var u=l(3673),a=l(2323);const o=(0,u._)("th",{class:"text-center"},"Ronda",-1),n={class:"text-center"},r={class:"text-center"},i={class:"text-center"},s={class:"text-center"},c={class:"text-center"},d=(0,u._)("strong",null,"Configuración manual",-1);function m(t,e,l,m,f,h){const p=(0,u.up)("q-select"),w=(0,u.up)("q-btn"),_=(0,u.up)("q-card-section"),g=(0,u.up)("q-tooltip"),b=(0,u.up)("q-markup-table"),M=(0,u.up)("q-card"),W=(0,u.up)("q-item-label"),G=(0,u.up)("q-item-section"),Z=(0,u.up)("q-item"),q=(0,u.up)("q-input"),k=(0,u.up)("q-list"),H=(0,u.up)("q-drawer"),z=(0,u.up)("q-page");return(0,u.wg)(),(0,u.j4)(z,null,{default:(0,u.w5)((()=>[(0,u.Wm)(M,{class:"shadow-10"},{default:(0,u.w5)((()=>[(0,u.Wm)(_,{class:"row q-gutter-md"},{default:(0,u.w5)((()=>[(0,u.Wm)(p,{class:"col",color:"teal",filled:"",options:t.btn,modelValue:t.filtro,"onUpdate:modelValue":e[0]||(e[0]=e=>t.filtro=e),label:"Grupo"},null,8,["options","modelValue"]),(0,u.Wm)(w,{class:"col",onClick:e[1]||(e[1]=e=>t.configMenu=!t.configMenu),color:"teal",icon:"settings",label:"Configuración"})])),_:1}),t.hora?((0,u.wg)(),(0,u.j4)(_,{key:0},{default:(0,u.w5)((()=>[(0,u.Wm)(b,{flat:""},{default:(0,u.w5)((()=>[(0,u._)("thead",null,[(0,u._)("tr",null,[o,(0,u._)("th",n,[(0,u.Wm)(g,null,{default:(0,u.w5)((()=>[(0,u.Uk)((0,a.zw)(t.hora.utc.fecha)+" "+(0,a.zw)(t.hora.utc.tz),1)])),_:1}),(0,u.Uk)(" "+(0,a.zw)(t.hora.utc.hora)+" (UTC) ",1)]),(0,u._)("th",r,[(0,u.Wm)(g,null,{default:(0,u.w5)((()=>[(0,u.Uk)((0,a.zw)(t.hora.local.fecha)+" "+(0,a.zw)(t.hora.local.tz),1)])),_:1}),(0,u.Uk)(" "+(0,a.zw)(t.hora.local.hora)+" (Local) ",1)])])]),(0,u._)("tbody",null,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(t.rondas,((t,e)=>((0,u.wg)(),(0,u.iD)("tr",{key:e},[(0,u._)("th",i,"# "+(0,a.zw)(e+1),1),(0,u._)("th",s,(0,a.zw)(t.utc),1),(0,u._)("th",c,(0,a.zw)(t.local),1)])))),128))])])),_:1})])),_:1})):(0,u.kq)("",!0)])),_:1}),(0,u.Wm)(H,{modelValue:t.configMenu,"onUpdate:modelValue":e[4]||(e[4]=e=>t.configMenu=e),side:"right",bordered:"",class:"bg-grey-1"},{default:(0,u.w5)((()=>[(0,u.Wm)(k,null,{default:(0,u.w5)((()=>[(0,u.Wm)(Z,null,{default:(0,u.w5)((()=>[(0,u.Wm)(G,null,{default:(0,u.w5)((()=>[(0,u.Wm)(W,null,{default:(0,u.w5)((()=>[d])),_:1})])),_:1})])),_:1}),(0,u.Wm)(Z,null,{default:(0,u.w5)((()=>[(0,u.Wm)(G,null,{default:(0,u.w5)((()=>[(0,u.Wm)(q,{modelValue:t.numGrupos,"onUpdate:modelValue":e[2]||(e[2]=e=>t.numGrupos=e),outlined:"",label:"Número de grupos",color:"teal",type:"number",min:"2",max:"24"},null,8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(Z,null,{default:(0,u.w5)((()=>[(0,u.Wm)(G,null,{default:(0,u.w5)((()=>[(0,u.Wm)(q,{modelValue:t.difMinute,"onUpdate:modelValue":e[3]||(e[3]=e=>t.difMinute=e),outlined:"",label:"Minuto de cambio",color:"teal",type:"number",min:"0",max:"59"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var f=l(120),h=l.n(f),p=l(9348),w=l.n(p);h().extend(w());const _=(0,u.aZ)({name:"Horarios",data:function(){return{config:{},configMenu:!1,hora:null,listado:[],btn:[],filtro:{label:"Grupo 1",value:1},difMinute:29,numGrupos:6}},created:function(){let t;setInterval((()=>{t=h()(),this.hora={utc:{hora:t.utc().format("HH:mm:ss"),fecha:t.utc().format("DD/MM/YYYY"),tz:t.utc().format("Z")},local:{hora:t.local().format("HH:mm:ss"),fecha:t.local().format("DD/MM/YYYY"),tz:t.local().format("Z")}}}),1e3),this.renderHoras()},mounted:async function(){this.$axios.get("data/horarios.json").then((t=>alert(t.data)))},methods:{renderHoras:function(){this.listado=[];let t=h()().utc().startOf("day").add(this.difMinute,"minute");for(let e=0;e<24;e++){let l=e%this.numGrupos+1,u=t.add(30,"minute");this.listado.push({grupo:l,utc:u.utc().format("HH:mm"),local:u.local().format("HH:mm")})}this.renderGrupos()},renderGrupos:function(){this.btn=[];for(let t=1;t<=this.numGrupos;t++)this.btn.push({label:`Grupo ${t}`,value:t})}},computed:{rondas:function(){return this.listado.filter((t=>t.grupo==(this.filtro.value?this.filtro.value:1)))}},watch:{numGrupos:function(){this.numGrupos=parseInt(this.numGrupos),this.numGrupos>24&&(this.numGrupos=24),this.numGrupos<2&&(this.numGrupos=2),this.renderHoras()},difMinute:function(){this.difMinute=parseInt(this.difMinute),this.difMinute>59&&(this.difMinute=59),this.difMinute<0&&(this.difMinute=0),this.renderHoras()}}});var g=l(4379),b=l(151),M=l(5589),W=l(4704),G=l(4607),Z=l(481),q=l(8870),k=l(2428),H=l(7011),z=l(3414),Q=l(2035),V=l(2350),x=l(4842),U=l(7518),Y=l.n(U);_.render=m;const v=_;Y()(_,"components",{QPage:g.Z,QCard:b.Z,QCardSection:M.Z,QSelect:W.Z,QBtn:G.Z,QMarkupTable:Z.Z,QTooltip:q.Z,QDrawer:k.Z,QList:H.Z,QItem:z.Z,QItemSection:Q.Z,QItemLabel:V.Z,QInput:x.Z})}}]);